## Tools

### Generate stub code

To generate stub files from the widl you can use stub generator located in
```tools/skeleton_generator/``` directory and run the python command:

```sh
$ python WAPIOven.py -d <stub code destination directory name> <widl directory/pluginname>.widl
```

Path to WAPIOven.py:
```sh
$ tools/skeleton_generator/WAPIOven.py
```

You need to install jinja2 for WAPIOven.py:
```sh
$ sudo apt-get install python-jinja2
```

Example:
```sh
$ sudo apt-get install python-jinja2
$ cd tools/skeleton_generator/
$ python WAPIOven.py -d ../../src/notification/ /web-device-api/web/widl/tizen/notification.widl
```

WIDL files can be found in the project repository:

```sh
$ git clone ssh://<username>@168.219.209.56:29418/doc/web-device-api
```

The widl files are placed in: ```web-device-api/web/widl/tizen/```

Stub files generated by above command:

```sh
<pluginname>_api.js
<pluginname>_extension.h
<pluginname>_extension.cc
<pluginname>_instance.h
<pluginname>_instance.cc
```

What should be done when skeleton code was generated?
- ```<pluginname>.gyp``` file should be added
- required privileges should be added in JavaScript file
- entry points should be checked in ```<pluginname>_extension.cc``` file
- each method should be implemented in ```<pluginname>_instance.cc``` file

### Using multiple JavaScript files

To use multiple JavaScript files in one plugin create ```js/``` directory inside
plugin directory and place JavaScript files.

Inside ```<pluginname>_api.js``` required JavaScript files should be added:
```sh
//= require('common.js');
//= require('calendar_item.js');
//= require('calendar.js');
//= require('calendar_manager.js');
//= require('calendar_attendee.js');
//= require('calendar_alarm.js');
//= require('calendar_recurrence_rule.js');
```

To merge all JavaScript files ```tools/mergejs.py``` file is used.
This script merge all files mentioned in ```<pluginname>_api.js``` file into one
file before build process.
